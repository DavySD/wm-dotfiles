# Wayfire Configuration
# Clean and organized config
# System: Gentoo 

# ══════════════════════════════════════════════════════════════════════════════
# CORE - Fundamental Settings
# ══════════════════════════════════════════════════════════════════════════════

[core]
# Active plugins
plugins = \
  alpha \
  animate \
  autostart \
  command \
  cube \
  decoration \
  expo \
  fast-switcher \
  foreign-toplevel \
  grid \
  gtk-shell \
  move \
  place \
  resize \
  shortcuts-inhibit \
  switcher \
  vswitch \
  window-rules \
  wm-actions \
  simple-tile

# Workspace grid: 4 horizontal × 1 vertical
vwidth = 4
vheight = 1

# Server-side decorations (lighter than CSD)
preferred_decoration_mode = server

# Xwayland enabled
xwayland = true

# Background colors
background_color = \#1A1A1AFF

# Close focused window
close_top_view = <alt> <shift> KEY_C

# Exit Wayfire
exit = <alt> <ctrl> KEY_BACKSPACE

# ══════════════════════════════════════════════════════════════════════════════
# INPUT - Keyboard and Mouse
# ══════════════════════════════════════════════════════════════════════════════

[input]
# Brazilian ABNT2 layout
xkb_layout = br
xkb_model = abnt2
xkb_rules = evdev

# Touchpad
tap_to_click = true
tap_and_drag = true
natural_scroll = false
scroll_method = default

# Mouse
cursor_theme = default
cursor_size = 24
mouse_cursor_speed = 0.000000
mouse_natural_scroll = false

# Keyboard
kb_repeat_rate = 40
kb_repeat_delay = 400
kb_numlock_default_state = false
kb_capslock_default_state = false

# ══════════════════════════════════════════════════════════════════════════════
# AUTOSTART - Initial Programs
# ══════════════════════════════════════════════════════════════════════════════

[autostart]
# DBus environment
0_env = dbus-update-activation-environment --systemd WAYLAND_DISPLAY DISPLAY XAUTHORITY

# Audio
audio = gentoo-pipewire-launcher
# autostart2 = ~/.config/autostart/pipewire.sh

# Status bar (Waybar with Industrial theme)
panel = waybar -s /home/deive/.config/waybar/orange.css

# Wallpaper
wallpaper = swaybg -i /home/deive/Imagens/Wallpapers/HL/hl1.png

# Color temperature 
gammastep = gammastep -l -9.8:-37.7 -t 6500:4400

# Notifications
notifications = dunst

# File manager daemon
file-manager = thunar --daemon

# Clipboard manager
CopyQ = flatpak run com.github.hluk.copyq --start-server

# GPU Screen Recorder UI
# autostart0 = gsr-ui

# ══════════════════════════════════════════════════════════════════════════════
# COMMANDS - Keyboard Shortcuts
# ══════════════════════════════════════════════════════════════════════════════

[command]
# Terminal
binding_terminal = <alt> KEY_ENTER
command_terminal = alacritty

# Alternative terminal
binding_6 = <alt> KEY_W
command_6 = st

# Launcher
binding_5 = <alt> KEY_D
command_5 = j4-dmenu-desktop -d dmenu

# File manager
binding_1 = <super> KEY_E
command_1 = thunar

# Exit Wayfire
binding_2 = <shift> <alt> KEY_Q
command_2 = busybox killall wayfire

# Screenshots
binding_screenshot = KEY_SYSRQ
command_screenshot = grim - | tee /home/deive/Imagens/CT/Wayland/$(date +'%Y-%m-%d-%H%M%S.png') | wl-copy

binding_screenshot_interactive = <shift> KEY_SYSRQ
command_screenshot_interactive = grim -g "$(slurp -w 0)" - | tee /home/deive/Imagens/CT/Wayland/$(date +'%Y-%m-%d-%H%M%S.png') | wl-copy

# Screenshot with editing (Swappy)
binding_0 = <alt> KEY_SYSRQ
command_0 = grim -g "$(slurp)" - | swappy -f -

# Volume controls
repeatable_binding_volume_up = KEY_VOLUMEUP
command_volume_up = wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+

repeatable_binding_volume_down = KEY_VOLUMEDOWN
command_volume_down = wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-

binding_mute = KEY_MUTE
command_mute = amixer set Master toggle

# Media controls
repeatable_binding_4 = KEY_PLAYPAUSE
command_4 = playerctl play-pause

repeatable_binding_3 = KEY_NEXTSONG
command_3 = playerctl next

# ══════════════════════════════════════════════════════════════════════════════
# DECORATION - Borders and Appearance
# ══════════════════════════════════════════════════════════════════════════════

[decoration]
# Border colors
active_color = \#B5541AD1
inactive_color = \#23232DEC

# Size and style
border_size = 2
title_height = 0

# No CSD decorations
use_csd = never

# ══════════════════════════════════════════════════════════════════════════════
# ANIMATIONS - Opening/Closing Effects
# ══════════════════════════════════════════════════════════════════════════════

[animate]
# Open/close animations
open_animation = zoom
close_animation = zap

# Duration (optimized for modest hardware)
duration = 400ms circle
zoom_duration = 500ms circle

# Fade for overlays
fade_enabled_for = type equals "overlay"
fade_duration = 400ms circle

# Apply to toplevel and focusable windows
enabled_for = (type equals "toplevel" | (type equals "x-or" & focusable equals true))

# Disabled effects (performance)
fire_enabled_for = none
zoom_enabled_for = none
minimize_animation = none

# ══════════════════════════════════════════════════════════════════════════════
# TRANSPARENCY - Window Opacity
# ══════════════════════════════════════════════════════════════════════════════

[alpha]
# Modifier: Alt + Super + Scroll
modifier = <alt> <super>
min_value = 0.100000

# ══════════════════════════════════════════════════════════════════════════════
# MOVEMENT - Drag Windows
# ══════════════════════════════════════════════════════════════════════════════

[move]
# Alt + Left Button
activate = <alt> BTN_LEFT

# Snap enabled
enable_snap = true
enable_snap_off = true
snap_threshold = 10
snap_off_threshold = 10
quarter_snap_threshold = 50

# Border preview
preview_base_border = \#151210D1
preview_base_color = \#B5541AE3
preview_border_width = 3

# ══════════════════════════════════════════════════════════════════════════════
# RESIZE
# ══════════════════════════════════════════════════════════════════════════════

[resize]
# Alt + Right Button
activate = <alt> BTN_RIGHT

# ══════════════════════════════════════════════════════════════════════════════
# GRID - Grid Positioning
# ══════════════════════════════════════════════════════════════════════════════

[grid]
# Animation duration
duration = 300ms circle
type = crossfade

# Numpad positions
# ⇱ 8 ⇲   (top-left, top, top-right)
# 4 5 6   (left, center, right)
# ⇱ 2 ⇲   (bottom-left, bottom, bottom-right)

slot_tl = <alt> KEY_KP7
slot_t = <alt> KEY_KP8
slot_tr = <alt> KEY_KP9

slot_l = <alt> KEY_LEFT | <alt> KEY_KP4
slot_c = <alt> KEY_UP | <alt> KEY_KP5
slot_r = <alt> KEY_RIGHT | <alt> KEY_KP6

slot_bl = <alt> KEY_KP1
slot_b = <alt> KEY_KP2
slot_br = <alt> KEY_KP3

# Restore
restore = <alt> KEY_DOWN | <alt> KEY_KP0

# ══════════════════════════════════════════════════════════════════════════════
# WORKSPACES - Workspace Switching
# ══════════════════════════════════════════════════════════════════════════════

[vswitch]
# Background when switching
background = \#1A1A1AFF
duration = 300ms circle
gap = 20

# Switch workspace with Alt + Ctrl + Arrows
binding_left = <alt> <ctrl> KEY_LEFT
binding_right = <alt> <ctrl> KEY_RIGHT
binding_up = <alt> <ctrl> KEY_UP
binding_down = <alt> <ctrl> KEY_DOWN

# Direct shortcuts (Alt + number)
binding_1 = <alt> KEY_1
binding_2 = <alt> KEY_2
binding_3 = <alt> KEY_3
binding_4 = <alt> KEY_4

# Send window to workspace (Shift + Alt + number)
send_win_1 = <shift> <alt> KEY_1
send_win_2 = <shift> <alt> KEY_2
send_win_3 = <shift> <alt> KEY_3
send_win_4 = <shift> <alt> KEY_4

# Move window along (Alt + Shift + Super + Arrows)
with_win_left = <alt> <shift> <super> KEY_LEFT
with_win_right = <alt> <shift> <super> KEY_RIGHT
with_win_up = <alt> <shift> <super> KEY_UP

# ══════════════════════════════════════════════════════════════════════════════
# EXPO - Workspace Overview
# ══════════════════════════════════════════════════════════════════════════════

[expo]
# Activate with Alt + E
toggle = <alt> KEY_E

# Visual settings
background = \#1A1A1AFF
duration = 300ms circle
inactive_brightness = 0.700000
offset = 10
transition_length = 200

# Keyboard interaction
keyboard_interaction = true

# Select workspace by number
select_workspace_1 = KEY_1
select_workspace_2 = KEY_2
select_workspace_3 = KEY_3
select_workspace_4 = KEY_4
select_workspace_5 = KEY_5
select_workspace_6 = KEY_6
select_workspace_7 = KEY_7
select_workspace_8 = KEY_8
select_workspace_9 = KEY_9

# ══════════════════════════════════════════════════════════════════════════════
# CUBE - 3D Cube Effect
# ══════════════════════════════════════════════════════════════════════════════

[cube]
# Activate with Alt + Ctrl + Left Button
activate = <alt> <ctrl> BTN_LEFT

# Visual settings
background = \#1A1A1AFF
background_mode = simple
deform = 0
zoom = 0.100000

# Initial animation
initial_animation = 350ms circle

# Speeds
speed_spin_horiz = 0.020000
speed_spin_vert = 0.020000
speed_zoom = 0.070000

# ══════════════════════════════════════════════════════════════════════════════
# SWITCHER - Window Switcher
# ══════════════════════════════════════════════════════════════════════════════

[switcher]
# Alt + Tab (next window)
next_view = <alt> KEY_TAB

# Alt + Shift + Tab (previous window)
prev_view = <alt> <shift> KEY_TAB

# Visual settings
speed = 500ms circle
view_thumbnail_scale = 1.000000
view_thumbnail_rotation = 30

# ══════════════════════════════════════════════════════════════════════════════
# Simple Tile - Sway like tile
# ══════════════════════════════════════════════════════════════════════════════

[simple-tile]
animation_duration = 0ms circle
button_move = <alt> BTN_LEFT
button_resize = <alt> BTN_RIGHT
inner_gap_size = 10
keep_fullscreen_on_adjacent = true
key_focus_above = <super> KEY_K
key_focus_below = <super> KEY_J
key_focus_left = <alt> KEY_H
key_focus_right = <super> KEY_L
key_toggle = <alt> KEY_T
outer_horiz_gap_size = 10
outer_vert_gap_size = 10
preview_base_border = \#58483ED1
preview_base_color = \#B5541AD1
preview_border_width = 3
tile_by_default = all


# ══════════════════════════════════════════════════════════════════════════════
# FAST-SWITCHER - Simple Switcher
# ══════════════════════════════════════════════════════════════════════════════

[fast-switcher]
# Alt + Esc
activate = <alt> KEY_J

# Alt + Shift + Esc (reverse)
activate_backward = <alt> <shift> KEY_ESC

# Inactive windows opacity
inactive_alpha = 0.700000

# ══════════════════════════════════════════════════════════════════════════════
# WINDOW ACTIONS
# ══════════════════════════════════════════════════════════════════════════════

[wm-actions]
# Alt + F - Fullscreen
toggle_fullscreen = <alt> KEY_F

# Alt + Q - Minimize
minimize = <alt> KEY_Q

# Alt + R - Always on top
toggle_always_on_top = <alt> KEY_R

# ══════════════════════════════════════════════════════════════════════════════
# IDLE - Screen Saver and Power Saving
# ══════════════════════════════════════════════════════════════════════════════

[idle]
# Screensaver timeout (5 minutes)
screensaver_timeout = 5

# DPMS disabled
dpms_timeout = -1

# Disable on fullscreen
disable_on_fullscreen = true

# ══════════════════════════════════════════════════════════════════════════════
# ZOOM - Magnify Screen
# ══════════════════════════════════════════════════════════════════════════════

[zoom]
# Super + Mouse Scroll
modifier = <super>
speed = 0.010000
smoothing_duration = 300ms linear

# ══════════════════════════════════════════════════════════════════════════════
# INVERT - Invert Colors
# ══════════════════════════════════════════════════════════════════════════════

[invert]
# Super + I
toggle = <super> KEY_I
preserve_hue = false

# ══════════════════════════════════════════════════════════════════════════════
# PLACE - Initial Window Positioning
# ══════════════════════════════════════════════════════════════════════════════

[place]
mode = cascade

# ══════════════════════════════════════════════════════════════════════════════
# GTK-SHELL and FOREIGN-TOPLEVEL - Compatibility
# ══════════════════════════════════════════════════════════════════════════════

[gtk-shell]

[foreign-toplevel]

[shortcuts-inhibit]
ignore_views = none
inhibit_by_default = none

# ══════════════════════════════════════════════════════════════════════════════
# WINDOW-RULES - Rules for Specific Windows
# ══════════════════════════════════════════════════════════════════════════════

[window-rules]
# Add your custom rules here
# Example:
# maximize_terminal = on created if app_id is "Alacritty" then maximize

# ══════════════════════════════════════════════════════════════════════════════
# FINAL NOTES
# ══════════════════════════════════════════════════════════════════════════════
#

# Plugins REMOVED for better performance:
# - blur (optimized)
# - wobbly (jelly effect, resource intensive)
# - mag (magnifier)
# - fisheye (distortion)
# - wrot (window rotation)
# - annotate (screen annotations)
# - bench (benchmark)
# - showrepaint/showtouch (debug)
# - vswipe (touchpad gestures
#
# To enable any of these, add to the plugins list in [core]
# 
